class Solution(object):
	def minMalwareSpread(self, graph, initial):
		def bfs(i):
			queue, visited = [i], [i]
			path_node = 0
			while(queue):
				cur = queue.pop(0)
				for idx, value in enumerate(graph[cur]):
					
					if value ==1 and idx not in visited:
						queue.append(idx)
						path_node += 1
						if idx!= cur and idx in initial:
							return -1
						visited.append(idx)
			return path_node

		record = dict()

		for node in initial:
			record[node] = bfs(node)
		
		candidate = record[max(record, key=record.get)]
		
		res = []
		for k, v in record.items():
			if v==candidate:
				res.append(k)
		return min(res)
